///////////////////////////////////////////////////////////////////////////////
// ARGUMENTS
///////////////////////////////////////////////////////////////////////////////

var target = Argument("target", "Default");
var configuration = Argument("configuration", "Release");

///////////////////////////////////////////////////////////////////////////////
// SETUP / TEARDOWN
///////////////////////////////////////////////////////////////////////////////

Setup(ctx =>
{
    if (BuildSystem.GitHubActions.IsRunningOnGitHubActions)
    {
        Information(BuildSystem.GitHubActions.Environment.PullRequest.IsPullRequest);
    }
    else
    {
        Information("Not running on GitHub Actions");
    }
});

Teardown(ctx =>
{
   Information("Finished running tasks.");
});

///////////////////////////////////////////////////////////////////////////////
// TASKS
///////////////////////////////////////////////////////////////////////////////

Task("Default")
.Does(() => {
    
    DotNetRestore();
    
    DotNetTest("./SymbolGraph.UtilitiesTests/SymbolGraph.UtilitiesTests.csproj");   
});

RunTarget(target);
